<!doctype html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>YR Badminton Admin</title>
  <link rel="stylesheet" href="assets/style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <div class="brand-title">YR Badminton</div>
      <div class="brand-sub">Admin</div>
    </div>
    <nav class="topnav">
      <a class="link" href="index.html">User Page</a>
    </nav>
  </header>

  <main class="container">
    <section class="card">
      <h1>Admin æ§åˆ¶å°</h1>

      <div class="field">
        <label for="adminKey">Admin Key</label>
        <input id="adminKey" placeholder="è¼¸å…¥ Admin Key" />
        <div class="muted small">Admin Key ç”¨æ–¼ç®¡ç†ï¼ˆæ–°å¢/ä¿®æ”¹/åˆªé™¤å ´æ¬¡ã€æŸ¥çœ‹/åˆªé™¤é ç´„ã€ç™¼å…¬å‘Šï¼‰ã€‚</div>
      </div>

      <div class="actions">
        <button id="btnLoad" class="btn primary" type="button">è¼‰å…¥ / Load</button>
        <button id="btnRefresh" class="btn" type="button">åˆ·æ–° / Refresh</button>
      </div>

      <div id="topMsg" class="toast"></div>
    </section>

    <section class="card">
      <h2>æ–°å¢å ´æ¬¡ / Create Session</h2>
      <p class="muted small">æ—¥æœŸåªå¯æ˜ŸæœŸæ—¥ï¼ˆç³»çµ±æœƒè‡ªå‹•ä¿®æ­£ï¼›å¾Œç«¯äº¦æœƒæ‹’çµ•é Sundayï¼‰ã€‚</p>

      <div class="grid-2">
        <div class="field">
          <label for="newDate">æ—¥æœŸ / Date (Sunday only)</label>
          <input id="newDate" type="date" />
        </div>
        <div class="field">
          <label for="venue">å ´åœ° / Venue</label>
          <input id="venue" value="Goodminton" />
        </div>
      </div>

      <div class="grid-3">
        <div class="field">
          <label for="start">é–‹å§‹ / Start</label>
          <input id="start" value="17:00" />
        </div>
        <div class="field">
          <label for="end">çµæŸ / End</label>
          <input id="end" value="19:00" />
        </div>
        <div class="field">
          <label for="capacity">åé¡ / Capacity</label>
          <input id="capacity" type="number" min="1" value="20" />
        </div>
      </div>

      <div class="field">
        <label for="note">å‚™è¨» / Note</label>
        <input id="note" placeholder="ä¾‹å¦‚ï¼šå¸¶æ³¢ / bring shuttle" />
      </div>

      <div class="grid-2">
        <div class="field">
          <label for="isOpen">æ˜¯å¦é–‹æ”¾ / Open?</label>
          <select id="isOpen">
            <option value="true">OPEN</option>
            <option value="false">CLOSED</option>
          </select>
        </div>
        <div class="field">
          <label for="title">æ¨™é¡Œ / Title</label>
          <input id="title" value="YR Badminton" />
        </div>
      </div>

      <div class="actions">
        <button id="btnCreate" class="btn primary" type="button">æ–°å¢ / Create</button>
      </div>
      <div id="createMsg" class="toast"></div>
    </section>

    <section class="card">
      <h2>å ´æ¬¡åˆ—è¡¨ / Sessions</h2>
      <div class="row gap">
        <label class="chk"><input id="showClosed" type="checkbox" /> é¡¯ç¤ºå·²é—œé–‰ / Show closed</label>
      </div>

      <div id="sessionsTable" class="table"></div>
      <div id="sessMsg" class="toast"></div>
    </section>

    <section class="card">
      <h2>Bookingsï¼ˆé¡¯ç¤º currentï¼‰</h2>
      <div class="grid-2">
        <div class="field">
          <label for="rsvpSession">å ´æ¬¡ / Session</label>
          <select id="rsvpSession"></select>
        </div>
        <div class="field">
          <label for="rsvpFilter">ç¯©é¸ / Filter</label>
          <select id="rsvpFilter">
            <option value="ALL">ALL</option>
            <option value="CONFIRMED">æˆåŠŸå ±å / Confirmed</option>
            <option value="WAITLIST">å€™è£œ / Waitlist</option>
            <option value="NO">ç¼ºå¸­ / No</option>
          </select>
        </div>
      </div>

      <div class="actions">
        <button id="btnLoadRsvps" class="btn primary" type="button">è¼‰å…¥åå–® / Load</button>
      </div>

      <div id="rsvpSummary" class="muted small"></div>
      <div id="rsvpsTable" class="table"></div>
    </section>

    <section class="card">
      <h2>ğŸ“¢ ç™¼å…¬å‘Šï¼ˆCopy-Pasteï¼‰</h2>
      <div class="grid-2">
        <div class="field">
          <label for="announceSession">å ´æ¬¡ / Session</label>
          <select id="announceSession"></select>
        </div>
        <div class="field">
          <label>äººæ•¸æ‘˜è¦ï¼ˆåªé¡¯ç¤ºæ–¼ç¶²é ï¼‰</label>
          <div id="announceSummary" class="muted small"></div>
        </div>
      </div>

      <div class="actions">
        <button id="btnAnnounce" class="btn primary" type="button">ç”Ÿæˆå…¬å‘Š / Generate</button>
        <button id="btnCopyAnnounce" class="btn" type="button">è¤‡è£½ / Copy</button>
      </div>

      <textarea id="announceText" class="textarea" rows="12" placeholder="ç”Ÿæˆå¾Œæœƒå‡ºç¾"></textarea>
      <div id="announceMsg" class="toast"></div>
    </section>

    <footer class="footer muted">
      <div class="small">æç¤ºï¼šApps Script å¯è¨­å®š time-driven trigger è·‘ <code>dailyCleanup</code> è‡ªå‹•é—œé–‰éæœŸå ´æ¬¡ï¼ˆä¿ç•™æ­·å²ï¼‰ã€‚</div>
    </footer>
  </main>

  <script src="assets/admin.js"></script>
</body>
</html>
